(()=>{var e={};e.id=3,e.ids=[3],e.modules={11185:e=>{"use strict";e.exports=require("mongoose")},47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},72254:e=>{"use strict";e.exports=require("node:buffer")},6005:e=>{"use strict";e.exports=require("node:crypto")},15673:e=>{"use strict";e.exports=require("node:events")},88849:e=>{"use strict";e.exports=require("node:http")},22286:e=>{"use strict";e.exports=require("node:https")},47261:e=>{"use strict";e.exports=require("node:util")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},68626:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>d});var r=t(50482),a=t(69108),n=t(62563),i=t.n(n),o=t(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let d=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,23136)),"C:\\Users\\KIIT\\Documents\\PROJECTS\\Next14 Task Manager\\src\\app\\admin\\page.jsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,9083)),"C:\\Users\\KIIT\\Documents\\PROJECTS\\Next14 Task Manager\\src\\app\\layout.js"],error:[()=>Promise.resolve().then(t.bind(t,6510)),"C:\\Users\\KIIT\\Documents\\PROJECTS\\Next14 Task Manager\\src\\app\\error.jsx"],loading:[()=>Promise.resolve().then(t.bind(t,25536)),"C:\\Users\\KIIT\\Documents\\PROJECTS\\Next14 Task Manager\\src\\app\\loading.jsx"],"not-found":[()=>Promise.resolve().then(t.bind(t,10870)),"C:\\Users\\KIIT\\Documents\\PROJECTS\\Next14 Task Manager\\src\\app\\not-found.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\KIIT\\Documents\\PROJECTS\\Next14 Task Manager\\src\\app\\admin\\page.jsx"],u="/admin/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},99250:(e,s,t)=>{Promise.resolve().then(t.bind(t,19499)),Promise.resolve().then(t.bind(t,24358))},71059:(e,s,t)=>{"use strict";t.d(s,{Z:()=>l});var r=t(95344),a=t(63623),n=t(43247),i=t.n(n),o=t(60708);let l=e=>{console.log(e);let s=e.user,t=e.setAddTask,{handleSubmit:n,register:l}=(0,o.cI)();async function d(e){console.log(e);try{if(!e)return;await (0,a.gI)(e),t()}catch(e){console.log("Error: ",e);return}}return(0,r.jsxs)("form",{onSubmit:n(d),className:i().container,children:[!s.id&&r.jsx("h1",{children:"Edit Task"}),r.jsx("input",{type:"hidden",name:"userId",value:s?._id||s?.id,...l("userId")}),r.jsx("input",{type:"text",name:"title",placeholder:"Title",...l("title")}),r.jsx("textarea",{type:"text",name:"desc",placeholder:"Description",rows:10,...l("desc")}),(0,r.jsxs)("select",{name:"status",...l("status"),children:[r.jsx("option",{value:"assigned",children:"Status"}),r.jsx("option",{value:"assigned",children:"Assigned"}),r.jsx("option",{value:"completed",children:"Completed"})]}),r.jsx("button",{type:"submit",children:"Submit"}),r.jsx("button",{onClick:()=>{t()},children:"Cancel"})]})}},19499:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var r=t(95344),a=t(63623),n=t(26800),i=t.n(n),o=t(89410),l=t(21113),d=t.n(l),c=t(60708);let u=e=>{console.log(e);let s=e.task,t=e.setTask,n=!0===e.isUser,{handleSubmit:i,register:o}=(0,c.cI)();async function l(e){try{if(!e)return;await (0,a.xJ)(e)}catch(e){console.log("Error: ",e);return}}let u=()=>{t()};return(0,r.jsxs)("form",{onSubmit:i(l),className:d().container,children:[n?r.jsx("h1",{children:"New Task"}):r.jsx("h1",{children:"Edit Task"}),r.jsx("input",{type:"hidden",name:"id",value:s?._id.toString(),...o("id",{required:!0})}),r.jsx("input",{type:"text",name:"title",placeholder:s?.title,...o("title",{required:!0})}),r.jsx("textarea",{type:"text",name:"desc",placeholder:s?.desc,rows:10,...o("desc",{required:!0})}),(0,r.jsxs)("select",{name:"status",...o("status",{required:!0}),children:[r.jsx("option",{value:s?.status,children:"Status"}),r.jsx("option",{value:"assigned",children:"Assigned"}),r.jsx("option",{value:"completed",children:"Completed"})]}),r.jsx("button",{type:"submit",onClick:u,children:"Submit"}),r.jsx("button",{onClick:u,children:"Cancel"})]})};var x=t(3729);let p=async e=>{let s=e.tasks,t=e.isUser,[n,l]=(0,x.useState)(null),d=async e=>{console.log("task inside handleDetele: ",e);try{await (0,a._5)(e._id)}catch(e){console.log("Error: ",e);return}};return(0,r.jsxs)("div",{className:t?"flex flex-col-reverse gap-y-[20px]":i().row,children:[(0,r.jsxs)("div",{className:i().col,children:[!t&&r.jsx("h1",{children:"Tasks"}),s?.map((e,s)=>r.jsxs("div",{className:i().task,children:[r.jsxs("div",{className:i().detail,children:[r.jsx(o.default,{src:"/noavatar.png",alt:"",width:50,height:50}),r.jsx("span",{className:i().taskTitle,children:e.title}),r.jsx("span",{className:i().taskTitle,children:" = "}),r.jsx("span",{className:i().taskTitle,children:e.userId?.username?e.userId?.username:""})]}),r.jsx("div",{className:"edit",children:r.jsx("button",{className:i().editButton,onClick:()=>l(e),children:"Edit"})}),r.jsx("div",{className:"delete",children:r.jsx("button",{className:i().taskButton,onClick:()=>d(e),children:"Delete"})})]},s))]}),n&&r.jsx("div",{className:i().col,children:r.jsx(u,{task:n,setTask:()=>{l(null)},isUser:t})})]})}},24358:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var r=t(95344),a=t(63623),n=t(44212),i=t.n(n),o=t(89410),l=t(59853),d=t.n(l),c=t(60708);let u=()=>{let{handleSubmit:e,register:s}=(0,c.cI)(),t=async e=>{try{await (0,a.cn)(e)}catch(e){console.error("Error adding user:",e)}};return(0,r.jsxs)("form",{onSubmit:e(t),className:d().container,children:[r.jsx("h1",{children:"Add New User"}),r.jsx("input",{type:"text",...s("username",{required:!0}),placeholder:"Username"}),r.jsx("input",{type:"text",...s("email",{required:!0}),placeholder:"Email"}),r.jsx("input",{type:"password",...s("password",{required:!0}),placeholder:"Password"}),r.jsx("input",{type:"text",...s("img"),placeholder:"Image"}),(0,r.jsxs)("select",{...s("isAdmin"),defaultValue:"false",children:[r.jsx("option",{value:"false",children:"Is Admin?"}),r.jsx("option",{value:"false",children:"No"}),r.jsx("option",{value:"true",children:"Yes"})]}),(0,r.jsxs)("select",{...s("isUser"),defaultValue:"false",children:[r.jsx("option",{value:"false",children:"Is User?"}),r.jsx("option",{value:"false",children:"No"}),r.jsx("option",{value:"true",children:"Yes"})]}),(0,r.jsxs)("select",{...s("isThirdPerson"),defaultValue:"false",children:[r.jsx("option",{value:"false",children:"Is 3rd Person?"}),r.jsx("option",{value:"false",children:"No"}),r.jsx("option",{value:"true",children:"Yes"})]}),r.jsx("button",{type:"submit",children:"Add"})]})};var x=t(71059),p=t(3729);let m=async({users:e})=>{let[s,t]=(0,p.useState)(!1),[n,l]=(0,p.useState)(null),d=e=>{l(e),t(!0)};return(0,r.jsxs)("div",{className:i().row,children:[(0,r.jsxs)("div",{className:i().col,children:[r.jsx("h1",{children:"Users"}),e.map((e,s)=>(0,r.jsxs)("div",{className:i().user,children:[(0,r.jsxs)("div",{className:i().detail,children:[r.jsx(o.default,{src:e.img||"/noavatar.png",alt:"",width:50,height:50}),r.jsx("span",{children:e.username})]}),r.jsx("div",{children:r.jsx("button",{className:i().addTaskButton,onClick:()=>d(e),children:"+ Task"})}),r.jsx("div",{children:r.jsx("button",{className:i().userButton,onClick:async()=>await (0,a.h8)(e._id),children:"Delete"})})]},s))]}),s?r.jsx("div",{className:i().col,children:r.jsx(x.Z,{user:n,setAddTask:()=>{t(!1)}})}):r.jsx("div",{className:i().col,children:r.jsx(u,{})})]})}},64580:e=>{e.exports={container:"admin_container__uVSVc",row:"admin_row__d8ao4",col:"admin_col__KpBlt",line:"admin_line__UtiEm"}},21113:e=>{e.exports={container:"adminTaskForm_container__i8hWg"}},43247:e=>{e.exports={container:"adminTaskToUserForm_container__NqeUD"}},26800:e=>{e.exports={task:"adminTasks_task__iJZ0l",row:"adminTasks_row__GsoPK",col:"adminTasks_col__ZEBFJ",alone:"adminTasks_alone__IjD6X",detail:"adminTasks_detail__c28Qb",taskButton:"adminTasks_taskButton__7x1D0",editButton:"adminTasks_editButton__0nbsY"}},59853:e=>{e.exports={container:"adminUserForm_container__dJAsV"}},44212:e=>{e.exports={user:"adminUsers_user__v201E",detail:"adminUsers_detail__wGTD9",userButton:"adminUsers_userButton__dWR5O",addTaskButton:"adminUsers_addTaskButton__L6GKb",row:"adminUsers_row__IFB9M",col:"adminUsers_col__uRkHL",alone:"adminUsers_alone__mPHJc"}},23136:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var r=t(25036),a=t(40002),n=t(64580),i=t.n(n),o=t(86843);let l=(0,o.createProxy)(String.raw`C:\Users\KIIT\Documents\PROJECTS\Next14 Task Manager\src\components\adminTasks\AdminTasks.jsx`),{__esModule:d,$$typeof:c}=l,u=l.default,x=(0,o.createProxy)(String.raw`C:\Users\KIIT\Documents\PROJECTS\Next14 Task Manager\src\components\adminUsers\AdminUsers.jsx`),{__esModule:p,$$typeof:m}=x,h=x.default;var j=t(94099),_=t(14318);let g=async()=>({users:await (await (0,j.Em)()).json(),tasks:await (await (0,j.pi)()).json()}),v=async()=>{let{users:e,tasks:s}=await (0,_.I8)()?await g():[];return console.log("users: ",e),console.log("tasks: ",s),(0,r.jsxs)("div",{className:i().container,children:[r.jsx(a.Suspense,{fallback:r.jsx("div",{children:"Loading..."}),children:r.jsx(u,{tasks:s,isUser:!1})}),r.jsx(a.Suspense,{fallback:r.jsx("div",{children:"Loading..."}),children:r.jsx(h,{users:e})})]})}},94099:(e,s,t)=>{"use strict";t.d(s,{Ak:()=>i,Em:()=>l,Rf:()=>o,pi:()=>d});var r=t(45989),a=t(78596);t(66864);var n=t(78070);let i=async()=>{try{return await (0,a.T)(),await r.i.find({}).populate("userId","username")}catch(e){throw console.log(e),Error("Error getting tasks")}},o=async()=>{try{return await (0,a.T)(),await r.n.find({})}catch(e){throw console.log(e),Error("Error getting users")}},l=async()=>{try{await (0,a.T)();let e=await r.n.find({});return n.Z.json(e)}catch(e){throw console.log(e),Error("Failed to fetch users")}},d=async()=>{try{await (0,a.T)();let e=await r.i.find({}).sort({createdAt:-1}).populate("userId","username");return n.Z.json(e)}catch(e){throw console.log(e),Error("Failed to fetch tasks")}}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[638,662,170,135,708,755],()=>t(68626));module.exports=r})();